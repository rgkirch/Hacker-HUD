#include "gtest/gtest.h"
#include "gmock/gmock.h"
#include "transform.hpp"
#include <string>
#include <vector>


using std::string;
using std::vector;

TEST(transform, one) {
    vector<string> vec {"1697.3788","1718.2013","1802.1638","1887.3263","1968.1025","2051.735","2055.6175","2139.0275","2291.4775","2476.2963","2357.5038","2247.4825","2106.3075","2207.5775","2289.87","2197.2338","2330.2338","2452.1813","2517.4088","2555.6538","2552.8088","2736.595","2914.0825","2694.2188","2825.0313","2826.7","2942.345","3018.545","2682.595","2738.9313","2494.485","2456.9238","2528.1025","2663.9975","2576.1713","2641.665","2778.8275","2712.1575","2740.79","2738.2138"};
    vector<double> expected {1697.3788,1718.2013,1802.1638,1887.3263,1968.1025,2051.735,2055.6175,2139.0275,2291.4775,2476.2963,2357.5038,2247.4825,2106.3075,2207.5775,2289.87,2197.2338,2330.2338,2452.1813,2517.4088,2555.6538,2552.8088,2736.595,2914.0825,2694.2188,2825.0313,2826.7,2942.345,3018.545,2682.595,2738.9313,2494.485,2456.9238,2528.1025,2663.9975,2576.1713,2641.665,2778.8275,2712.1575,2740.79,2738.2138};
    vector<double> result = transform(vec, [](string s)->double{ return atof(s.c_str()); });
    ASSERT_EQ(expected, result);
}

